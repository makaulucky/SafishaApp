{"version":3,"sources":["overrideTextRenderFn.ts"],"names":["originalRenderFn","Text","render","overrideTextRenderFn","FontManager","applyOverrides","overrideRenderFn","args","element","call","fontFaces","Object","values","globalFontFaces","originalStyle","StyleSheet","flatten","props","style","overrideStyle","flattenedStyle","React","cloneElement"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,gBAAgB,GAAIC,iBAAD,CAAcC,MAAvC;;AAEO,SAASC,oBAAT,GAAgC;AACrC,QAAMC,WAAN,CAAkB;AAChBC,IAAAA,cAAc,GAAG;AACdJ,uBAAD,CAAcC,MAAd,GAAuB,KAAKI,gBAA5B;AACD;;AAEDA,IAAAA,gBAAgB,CAAC,GAAGC,IAAJ,EAAiB;AAC/B,YAAMC,OAAO,GAAGR,gBAAgB,CAACS,IAAjB,CAAsB,IAAtB,EAA4B,GAAGF,IAA/B,CAAhB;AACA,YAAMG,SAAS,GAAGC,MAAM,CAACC,MAAP,CAAcC,gCAAd,CAAlB;;AACA,YAAMC,aAAwB,GAAGC,wBAAWC,OAAX,CAAmB,CAACR,OAAO,CAACS,KAAR,CAAcC,KAAf,CAAnB,CAAjC;;AACA,YAAMC,aAAwB,GAAG,kDAAsBT,SAAtB,EAAiCI,aAAjC,CAAjC;;AACA,YAAMM,cAAyB,GAAGL,wBAAWC,OAAX,CAAmB,CAACF,aAAD,EAAgBK,aAAhB,CAAnB,CAAlC;;AACA,0BAAOE,eAAMC,YAAN,CAAmBd,OAAnB,EAA4B;AAAEU,QAAAA,KAAK,EAAEE;AAAT,OAA5B,CAAP;AACD;;AAZe;;AAelB,MAAIhB,WAAJ,GAAkBC,cAAlB;AACD","sourcesContent":["import React from 'react';\nimport { globalFontFaces } from './globalFontFaces';\nimport { generateOverrideStyle } from './generateOverrideStyle';\nimport { Text, TextStyle, StyleSheet } from 'react-native';\n\nconst originalRenderFn = (Text as any).render;\n\nexport function overrideTextRenderFn() {\n  class FontManager {\n    applyOverrides() {\n      (Text as any).render = this.overrideRenderFn;\n    }\n\n    overrideRenderFn(...args: any[]) {\n      const element = originalRenderFn.call(this, ...args);\n      const fontFaces = Object.values(globalFontFaces);\n      const originalStyle: TextStyle = StyleSheet.flatten([element.props.style]);\n      const overrideStyle: TextStyle = generateOverrideStyle(fontFaces, originalStyle);\n      const flattenedStyle: TextStyle = StyleSheet.flatten([originalStyle, overrideStyle]);\n      return React.cloneElement(element, { style: flattenedStyle });\n    }\n  }\n\n  new FontManager().applyOverrides();\n}\n"]}