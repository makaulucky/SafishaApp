{"version":3,"sources":["overrideTextRenderFn.ts"],"names":["React","globalFontFaces","generateOverrideStyle","Text","StyleSheet","originalRenderFn","render","overrideTextRenderFn","FontManager","applyOverrides","overrideRenderFn","args","element","call","fontFaces","Object","values","originalStyle","flatten","props","style","overrideStyle","flattenedStyle","cloneElement"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,eAAT,QAAgC,mBAAhC;AACA,SAASC,qBAAT,QAAsC,yBAAtC;AACA,SAASC,IAAT,EAA0BC,UAA1B,QAA4C,cAA5C;AAEA,MAAMC,gBAAgB,GAAIF,IAAD,CAAcG,MAAvC;AAEA,OAAO,SAASC,oBAAT,GAAgC;AACrC,QAAMC,WAAN,CAAkB;AAChBC,IAAAA,cAAc,GAAG;AACdN,MAAAA,IAAD,CAAcG,MAAd,GAAuB,KAAKI,gBAA5B;AACD;;AAEDA,IAAAA,gBAAgB,CAAC,GAAGC,IAAJ,EAAiB;AAC/B,YAAMC,OAAO,GAAGP,gBAAgB,CAACQ,IAAjB,CAAsB,IAAtB,EAA4B,GAAGF,IAA/B,CAAhB;AACA,YAAMG,SAAS,GAAGC,MAAM,CAACC,MAAP,CAAcf,eAAd,CAAlB;AACA,YAAMgB,aAAwB,GAAGb,UAAU,CAACc,OAAX,CAAmB,CAACN,OAAO,CAACO,KAAR,CAAcC,KAAf,CAAnB,CAAjC;AACA,YAAMC,aAAwB,GAAGnB,qBAAqB,CAACY,SAAD,EAAYG,aAAZ,CAAtD;AACA,YAAMK,cAAyB,GAAGlB,UAAU,CAACc,OAAX,CAAmB,CAACD,aAAD,EAAgBI,aAAhB,CAAnB,CAAlC;AACA,0BAAOrB,KAAK,CAACuB,YAAN,CAAmBX,OAAnB,EAA4B;AAAEQ,QAAAA,KAAK,EAAEE;AAAT,OAA5B,CAAP;AACD;;AAZe;;AAelB,MAAId,WAAJ,GAAkBC,cAAlB;AACD","sourcesContent":["import React from 'react';\nimport { globalFontFaces } from './globalFontFaces';\nimport { generateOverrideStyle } from './generateOverrideStyle';\nimport { Text, TextStyle, StyleSheet } from 'react-native';\n\nconst originalRenderFn = (Text as any).render;\n\nexport function overrideTextRenderFn() {\n  class FontManager {\n    applyOverrides() {\n      (Text as any).render = this.overrideRenderFn;\n    }\n\n    overrideRenderFn(...args: any[]) {\n      const element = originalRenderFn.call(this, ...args);\n      const fontFaces = Object.values(globalFontFaces);\n      const originalStyle: TextStyle = StyleSheet.flatten([element.props.style]);\n      const overrideStyle: TextStyle = generateOverrideStyle(fontFaces, originalStyle);\n      const flattenedStyle: TextStyle = StyleSheet.flatten([originalStyle, overrideStyle]);\n      return React.cloneElement(element, { style: flattenedStyle });\n    }\n  }\n\n  new FontManager().applyOverrides();\n}\n"]}